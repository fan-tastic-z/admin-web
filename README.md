# Poem Admin Web

åŸºäº React + TypeScript + Tailwind CSS æ„å»ºçš„ç°ä»£åŒ–åå°ç®¡ç†ç³»ç»Ÿå‰ç«¯ï¼Œé‡‡ç”¨ shadcn/ui ç»„ä»¶åº“ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼**: Tailwind CSS + shadcn/ui
- **è·¯ç”±**: React Router DOM
- **çŠ¶æ€ç®¡ç†**: Zustand + TanStack Query
- **HTTP å®¢æˆ·ç«¯**: Axios
- **å›¾æ ‡**: Lucide React
- **è¡¨å•**: React Hook Form + Zod
- **åŒ…ç®¡ç†å™¨**: pnpm

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” ç”¨æˆ·è®¤è¯ä¸æˆæƒ
- ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- ğŸ›¡ï¸ è§’è‰²æƒé™ç®¡ç†
- ğŸ¢ ç»„ç»‡æ¶æ„ç®¡ç†
- ğŸ“Š ä»ªè¡¨æ¿æ¦‚è§ˆ
- ğŸŒ™ æ·±è‰²æ¨¡å¼æ”¯æŒ
- ğŸ“± å“åº”å¼è®¾è®¡
- â™¿ æ— éšœç¢è®¿é—®

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

æ¨èä½¿ç”¨ pnpmï¼š

```bash
pnpm install
```

å…¶ä»–åŒ…ç®¡ç†å™¨ï¼š

```bash
# æˆ–ä½¿ç”¨ npm
npm install

# æˆ–ä½¿ç”¨ yarn
yarn install
```

### å¼€å‘ç¯å¢ƒ

```bash
pnpm dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000)

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

### é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm preview
```

### ç±»å‹æ£€æŸ¥

```bash
pnpm type-check
```

### ä»£ç æ£€æŸ¥

```bash
pnpm lint
```

## ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶æ¥é…ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒï¼š

```env
# åç«¯APIåœ°å€ï¼ˆé»˜è®¤ï¼šhttp://127.0.0.1:9000ï¼‰
VITE_API_URL=http://127.0.0.1:9000
```

### æœ¬åœ°åç«¯æœåŠ¡é…ç½®

1. **åç«¯æœåŠ¡åœ°å€**: ç¡®ä¿ä½ çš„åç«¯æœåŠ¡è¿è¡Œåœ¨ `http://127.0.0.1:9000`
2. **CORS è§£å†³æ–¹æ¡ˆ**: é¡¹ç›®å·²é…ç½®Viteä»£ç†è‡ªåŠ¨å¤„ç†è·¨åŸŸé—®é¢˜ï¼Œæ— éœ€åç«¯é…ç½®CORS
3. **å¥åº·æ£€æŸ¥**: ç³»ç»Ÿä¼šå°è¯•è®¿é—® `/health` ç«¯ç‚¹æ¥æµ‹è¯•è¿æ¥

### ä»£ç†å·¥ä½œåŸç†

å¼€å‘ç¯å¢ƒä¸‹ï¼Œé¡¹ç›®ä½¿ç”¨Viteä»£ç†æ¥é¿å…CORSé—®é¢˜ï¼š

```
å‰ç«¯è¯·æ±‚: http://localhost:3000/api/login
   â†“ (Viteä»£ç†ï¼Œä¿æŒå®Œæ•´è·¯å¾„)
åç«¯å®é™…: http://127.0.0.1:9000/api/login
```

ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå‰ç«¯ç›´æ¥è®¿é—®åç«¯APIåœ°å€ã€‚

## API æ¥å£

é¡¹ç›®åŸºäºä»¥ä¸‹ API æ¥å£ï¼š

- `POST /login` - ç”¨æˆ·ç™»å½•
- `GET /accounts/current` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /accounts` - è·å–ç”¨æˆ·åˆ—è¡¨
- `POST /accounts` - åˆ›å»ºç”¨æˆ·
- `GET /roles` - è·å–è§’è‰²åˆ—è¡¨
- `POST /roles` - åˆ›å»ºè§’è‰²
- `GET /roles/{id}/detail` - è·å–è§’è‰²è¯¦æƒ…
- `POST /organizations` - åˆ›å»ºç»„ç»‡
- `POST /organizations/tree` - è·å–ç»„ç»‡æ ‘
- `GET /menus` - è·å–èœå•åˆ—è¡¨

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”œâ”€â”€ ui/             # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”œâ”€â”€ layout.tsx      # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ sidebar.tsx     # ä¾§è¾¹æ 
â”‚   â””â”€â”€ header.tsx      # å¤´éƒ¨
â”œâ”€â”€ contexts/           # React Context
â”‚   â””â”€â”€ auth.tsx        # è®¤è¯ä¸Šä¸‹æ–‡
â”œâ”€â”€ lib/                # å·¥å…·åº“
â”‚   â”œâ”€â”€ api.ts          # API å®¢æˆ·ç«¯
â”‚   â””â”€â”€ utils.ts        # å·¥å…·å‡½æ•°
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ login.tsx       # ç™»å½•é¡µ
â”‚   â”œâ”€â”€ dashboard.tsx   # ä»ªè¡¨æ¿
â”‚   â”œâ”€â”€ accounts.tsx    # ç”¨æˆ·ç®¡ç†
â”‚   â”œâ”€â”€ roles.tsx       # è§’è‰²ç®¡ç†
â”‚   â””â”€â”€ organizations.tsx # ç»„ç»‡ç®¡ç†
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ api.ts          # API ç±»å‹
â”œâ”€â”€ App.tsx             # åº”ç”¨æ ¹ç»„ä»¶
â”œâ”€â”€ main.tsx            # åº”ç”¨å…¥å£
â””â”€â”€ index.css           # å…¨å±€æ ·å¼
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„é¡µé¢ç»„ä»¶
2. åœ¨ `src/App.tsx` ä¸­æ·»åŠ è·¯ç”±é…ç½®
3. åœ¨ `src/components/sidebar.tsx` ä¸­æ·»åŠ å¯¼èˆªèœå•

### æ·»åŠ æ–°çš„ API æ¥å£

1. åœ¨ `src/types/api.ts` ä¸­å®šä¹‰æ¥å£ç±»å‹
2. ä½¿ç”¨ `src/lib/api.ts` ä¸­çš„ axios å®ä¾‹è°ƒç”¨æ¥å£
3. ä½¿ç”¨ TanStack Query è¿›è¡Œæ•°æ®ç®¡ç†

### æ ·å¼å¼€å‘

é¡¹ç›®ä½¿ç”¨ Tailwind CSS å’Œ shadcn/ui ç»„ä»¶åº“ï¼š

- åŸºç¡€æ ·å¼ä½¿ç”¨ Tailwind CSS ç±»å
- å¤æ‚ç»„ä»¶ä½¿ç”¨ shadcn/ui ç»„ä»¶
- è‡ªå®šä¹‰ç»„ä»¶æ”¾åœ¨ `src/components/ui/` ç›®å½•

### pnpm ä½¿ç”¨æç¤º

- æ·»åŠ ä¾èµ–ï¼š`pnpm add <package>`
- æ·»åŠ å¼€å‘ä¾èµ–ï¼š`pnpm add -D <package>`
- åˆ é™¤ä¾èµ–ï¼š`pnpm remove <package>`
- æ›´æ–°ä¾èµ–ï¼š`pnpm update`

## è®¸å¯è¯

MIT License 